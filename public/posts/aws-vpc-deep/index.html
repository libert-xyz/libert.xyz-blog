<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  AWS/Amazon Global Network - Re:Invent 2016 · libert.xyz
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Libert Schmidt">
<meta name="description" content="
AWS rarely gives us insights about how they manage their data centers, there is no too much information about what kind of hardware they use and how they can scale quickly.
This is because I found the  talk AWS re:Invent 2016 called Amazon Global Network Overview really enjoyable.
James Hamilton (Vice President and Distinguished Engineer) gives us an amazing overview of how the magic happens behind AWS datacenters.
With 14 regions across the world.">
<meta name="keywords" content="blog,devops,libert,aws,python,linux,bash">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="AWS/Amazon Global Network - Re:Invent 2016">
  <meta name="twitter:description" content="AWS rarely gives us insights about how they manage their data centers, there is no too much information about what kind of hardware they use and how they can scale quickly.
This is because I found the talk AWS re:Invent 2016 called Amazon Global Network Overview really enjoyable.
James Hamilton (Vice President and Distinguished Engineer) gives us an amazing overview of how the magic happens behind AWS datacenters.
With 14 regions across the world.">

<meta property="og:url" content="http://localhost:1313/posts/aws-vpc-deep/">
  <meta property="og:site_name" content="libert.xyz">
  <meta property="og:title" content="AWS/Amazon Global Network - Re:Invent 2016">
  <meta property="og:description" content="AWS rarely gives us insights about how they manage their data centers, there is no too much information about what kind of hardware they use and how they can scale quickly.
This is because I found the talk AWS re:Invent 2016 called Amazon Global Network Overview really enjoyable.
James Hamilton (Vice President and Distinguished Engineer) gives us an amazing overview of how the magic happens behind AWS datacenters.
With 14 regions across the world.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2016-10-10T14:43:55-04:00">
    <meta property="article:modified_time" content="2016-10-10T14:43:55-04:00">
    <meta property="article:tag" content="Aws">




<link rel="canonical" href="http://localhost:1313/posts/aws-vpc-deep/">


<link rel="preload" href="http://localhost:1313/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="http://localhost:1313/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="http://localhost:1313/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="http://localhost:1313/css/coder.css" media="screen">








 




<link rel="icon" type="image/svg+xml" href="http://localhost:1313/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="http://localhost:1313/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="http://localhost:1313/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="http://localhost:1313/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:1313/images/apple-touch-icon.png">

<link rel="manifest" href="http://localhost:1313/site.webmanifest">
<link rel="mask-icon" href="http://localhost:1313/images/safari-pinned-tab.svg" color="#5bbad5">









</head>




<body class="preload-transitions colorscheme-light">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      libert.xyz
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="http://localhost:1313/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="http://localhost:1313/open-source/">Open Source Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="http://localhost:1313/about/">About</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/aws-vpc-deep/">
              AWS/Amazon Global Network - Re:Invent 2016
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2016-10-10T14:43:55-04:00">
                October 10, 2016
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              3-minute read
            </span>
          </div>
          
          
          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="http://localhost:1313/tags/aws/">Aws</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <hr>
<p>AWS rarely gives us insights about how they manage their data centers, there is no too much information about what kind of hardware they use and how they can scale quickly.</p>
<p>This is because I found the  talk <strong>AWS re:Invent 2016</strong> called <a href="https://youtu.be/uj7Ting6Ckk"  class="external-link" target="_blank" rel="noopener"><strong>Amazon Global Network Overview</strong></a> really enjoyable.</p>
<p><strong>James Hamilton</strong> (Vice President and Distinguished Engineer) gives us an amazing overview of how the magic happens behind AWS datacenters.</p>
<p>With 14 regions across the world.</p>
<h3 id="trans-oceanic-cables-to-interconnect-aws-regions">
  Trans-Oceanic cables to interconnect AWS Regions
  <a class="heading-link" href="#trans-oceanic-cables-to-interconnect-aws-regions">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p><img src="https://libert.xyz/images/vpc-1.png" alt="vpc-1" title="Region Links"></p>
<p>AWS owns and manages all the fiber connections between regions and as <strong>James Hamilton</strong> mentions in the talks they don&rsquo;t trust and depend of any third party provider.</p>
<h3 id="aws-regions">
  AWS regions
  <a class="heading-link" href="#aws-regions">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p><img src="https://libert.xyz/images/vpc-2.png" alt="vpc-2" title="Regions"></p>
<p>Each region is composed of at least two availability zones but all new Amazon regions are built with at least three AZs and some have as many as five.</p>
<h4 id="transit-centers">
  Transit Centers
  <a class="heading-link" href="#transit-centers">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Transit centers provide connectivity to the region to the rest of the world.
Every Region has two transit centers.</p>
<h4 id="metro-fiber">
  Metro Fiber
  <a class="heading-link" href="#metro-fiber">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>AWS Regions and AZs are connected with Metro Fiber.</p>
<p>Within an AZ there are intra-AZ fiber connections within the data centers, inter-AZ fiber connections between data centers that make up the AZ and fiber connections between each of the data centers and one of two transit stations each AZ has that connect to the outside world.</p>
<p><img src="https://libert.xyz/images/vpc-3.png" alt="vpc-3" title="Metro Fiber"></p>
<h4 id="azs">
  AZs
  <a class="heading-link" href="#azs">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Each AZ has at least one data center, although some have as many as eight.</p>
<p>Also is misconception to think that AZs are servers hosted in the same datacenter as other AZs but in different racks, actually AZs are independent building separated miles away within a Region.
Several AZ&rsquo;s over 300k servers</p>
<p><img src="https://libert.xyz/images/vpc-7.png" alt="vpc-7" title="AZs"></p>
<p>Miles away from a distance perspective, close from a latency perspective (1 millisecond)</p>
<h4 id="datacenters">
  Datacenters
  <a class="heading-link" href="#datacenters">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Inside the data center, AWS runs its own custom-built hardware, including network routers.</p>
<p>AWS runs around 50k to 80k bare metal servers in each datacenter.</p>
<p>If data centers are any larger, then there are only modest gains in efficiency related to its scale. On the other hand, there are negative consequences to building larger data centers: If one fails, it will bring down more capacity compared to if a smaller facility goes down. Keeping data centers in relatively modest sizes costs a little bit more.</p>
<p><img src="https://libert.xyz/images/vpc-8.png" alt="vpc-8" title="Datacenters-2"></p>
<h4 id="aws-custom-routers">
  AWS Custom Routers
  <a class="heading-link" href="#aws-custom-routers">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>AWS builds its network routers.</p>
<p>Hamilton showed one from Broadcom - that has 78 transistors and can support up to 128 ports of 25Gb Ethernet each.</p>
<p>AWS runs mostly 25GbE inside its data centers, despite most industry standards running 40 Gigabit Ethernet.
25G Ethernet, creating a 50G Ethernet connection, is less expensive and high bandwidth than a single 40G Ethernet.</p>
<p><img src="https://libert.xyz/images/vpc-5.png" alt="vpc-5" title="Routers"></p>
<h4 id="software-defined-networking">
  Software Defined Networking
  <a class="heading-link" href="#software-defined-networking">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>AWS started relying on the custom hardware NIC (network interface controller) in 2012.
This change reduced the overall Latency and offloaded the servers virtualization.</p>
<p>Sending a package to a neighbor server using Virtualization takes milliseconds.
The package has to go from the</p>
<p>Latency:
application &ndash;&gt; GuestOS &gt; Hypervisor &gt;  NIC = Milliseconds
NIC to NIC -&gt; Microseconds
Packet crossing the fiber = Nanoseconds</p>
<p><img src="https://libert.xyz/images/vpc-9.png" alt="vpc-9" title="Servers"></p>
<hr>

      </div>


      <footer>
        

<section class="see-also">
  
    
    
    
  
</section>


        
        
        
        
        
        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
    integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
    integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script>
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2025
     Libert Schmidt 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="http://localhost:1313/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
