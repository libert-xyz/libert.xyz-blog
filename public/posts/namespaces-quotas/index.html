<!DOCTYPE html>
<html lang="en">

<head>
  <title>
  Namespaces resources quotas · libert.xyz
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">


<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net/; form-action 'self'; frame-src 'self' https://www.youtube.com; img-src 'self'; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com/ https://cdn.jsdelivr.net/; script-src 'self' 'unsafe-inline' https://www.google-analytics.com https://cdn.jsdelivr.net/; connect-src 'self' https://www.google-analytics.com;">




<meta name="author" content="Libert (lih-BERT)">
<meta name="description" content="
The Limits and Requests are set for each container, what about
if we want to apply Limits to namespaces?

  LimitRange Object
  
    
    Link to heading
  

The LimitRange resource. It allows you to specify (for each namespace) not only the minimum and maximum limit you can set on a container for each resource but also the default requests for containers that don’t specify requests.


  LimitRange use case
  
    
    Link to heading
  

A great use case for LimitRange is to prevent users from creating pods that are bigger than the node&rsquo;s resources in the cluster. Without LimitRange the API Server will accept the pod but never schedule it.">
<meta name="keywords" content="blog,devops,libert,aws,python,linux,bash">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Namespaces resources quotas">
  <meta name="twitter:description" content="The Limits and Requests are set for each container, what about if we want to apply Limits to namespaces?
LimitRange Object Link to heading The LimitRange resource. It allows you to specify (for each namespace) not only the minimum and maximum limit you can set on a container for each resource but also the default requests for containers that don’t specify requests.
LimitRange use case Link to heading A great use case for LimitRange is to prevent users from creating pods that are bigger than the node’s resources in the cluster. Without LimitRange the API Server will accept the pod but never schedule it.">

<meta property="og:url" content="https://libert.xyz/posts/namespaces-quotas/">
  <meta property="og:site_name" content="libert.xyz">
  <meta property="og:title" content="Namespaces resources quotas">
  <meta property="og:description" content="The Limits and Requests are set for each container, what about if we want to apply Limits to namespaces?
LimitRange Object Link to heading The LimitRange resource. It allows you to specify (for each namespace) not only the minimum and maximum limit you can set on a container for each resource but also the default requests for containers that don’t specify requests.
LimitRange use case Link to heading A great use case for LimitRange is to prevent users from creating pods that are bigger than the node’s resources in the cluster. Without LimitRange the API Server will accept the pod but never schedule it.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-08-28T16:06:55-04:00">
    <meta property="article:modified_time" content="2019-08-28T16:06:55-04:00">
    <meta property="article:tag" content="Kubernetes">
      <meta property="og:see_also" content="https://libert.xyz/posts/pod-services-pt2/">
      <meta property="og:see_also" content="https://libert.xyz/posts/pods-qos/">
      <meta property="og:see_also" content="https://libert.xyz/posts/pods-requests-limits/">
      <meta property="og:see_also" content="https://libert.xyz/posts/kubernetes-ha/">
      <meta property="og:see_also" content="https://libert.xyz/posts/pod-services/">
      <meta property="og:see_also" content="https://libert.xyz/posts/pod-networking/">
      <meta property="og:see_also" content="https://libert.xyz/posts/pods-qos/">
      <meta property="og:see_also" content="https://libert.xyz/posts/pods-requests-limits/">




<link rel="canonical" href="https://libert.xyz/posts/namespaces-quotas/">


<link rel="preload" href="https://libert.xyz/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://libert.xyz/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="https://libert.xyz/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="https://libert.xyz/css/coder.min.4b392a85107b91dbdabc528edf014a6ab1a30cd44cafcd5325c8efe796794fca.css" integrity="sha256-SzkqhRB7kdvavFKO3wFKarGjDNRMr81TJcjv55Z5T8o=" crossorigin="anonymous" media="screen" />






  
    
    
    <link rel="stylesheet" href="https://libert.xyz/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css" integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin="anonymous" media="screen" />
  



 




<link rel="icon" type="image/svg+xml" href="https://libert.xyz/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="https://libert.xyz/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://libert.xyz/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="https://libert.xyz/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="https://libert.xyz/images/apple-touch-icon.png">

<link rel="manifest" href="https://libert.xyz/site.webmanifest">
<link rel="mask-icon" href="https://libert.xyz/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="https://libert.xyz/">
      libert.xyz
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="https://libert.xyz/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="https://libert.xyz/open-source/">Open Source Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="https://libert.xyz/about/">About</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://libert.xyz/posts/namespaces-quotas/">
              Namespaces resources quotas
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2019-08-28T16:06:55-04:00">
                August 28, 2019
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              2-minute read
            </span>
          </div>
          
          
          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="https://libert.xyz/tags/kubernetes/">Kubernetes</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <hr>
<p>The <strong>Limits</strong> and <strong>Requests</strong> are set for each container, what about
if we want to apply Limits to namespaces?</p>
<h3 id="limitrange-object">
  <em>LimitRange</em> Object
  <a class="heading-link" href="#limitrange-object">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The <em>LimitRange</em> resource. It allows you to specify (for each namespace) not only the minimum and maximum limit you can set on a container for each resource but also the default requests for containers that don’t specify requests.</p>
<p><img src="https://libert.xyz/images/lim1.png" alt="k8-p2-1" title="limitrange"></p>
<h3 id="limitrange-use-case">
  <em>LimitRange</em> use case
  <a class="heading-link" href="#limitrange-use-case">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>A great use case for LimitRange is to prevent users from creating pods that are bigger than the node&rsquo;s resources in the cluster. Without LimitRange the <em>API Server</em> will accept the pod but never schedule it.</p>
<p><img src="https://libert.xyz/images/lim2.png" alt="k8-p2-2" title="object"></p>
<h3 id="limiting-total-resources-in-a-namespace">
  Limiting total resources in a namespace
  <a class="heading-link" href="#limiting-total-resources-in-a-namespace">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p><em>LimitRange</em> only apply to individual pods, we can limit total resources by namespace with the object <em>ResourceQuota</em>.</p>
<p><img src="https://libert.xyz/images/lim3.png" alt="k8-p2-3" title="resource quota"></p>
<p><em>ResourceQuota</em> sets the maximum amount of CPU pods in the namespace
can request to 400 millicores. The maximum total CPU limits in the namespace are
set to 600 millicores. For memory, the maximum total requests are set to 200 MiB,
whereas the limits are set to 500 MiB.</p>
<p><img src="https://libert.xyz/images/lim4.png" alt="k8-p2-4" title="resource quota and limitrange"></p>
<h3 id="creating-limitrange-along-with-resourcequota">
  Creating LimitRange along with ResourceQuota
  <a class="heading-link" href="#creating-limitrange-along-with-resourcequota">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>As a best practice, you should create both objects.
When a quota for a specific resource (CPU or memory) is configured (request or
limit), pods need to have the request or limit (respectively) set for that same resource.</p>
<h3 id="limiting-the-number-of-objects-that-can-be-created">
  Limiting the number of objects that can be created
  <a class="heading-link" href="#limiting-the-number-of-objects-that-can-be-created">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p><em>ResourceQuota</em> can also be configured to limit objects in a namespaces</p>
<p><img src="https://libert.xyz/images/lim5.png" alt="k8-p2-5" title="quota objects"></p>
<p>The ResourceQuota in this listing allows users to create at most 10 Pods in the namespace, regardless if they’re created manually or by a ReplicationController, ReplicaSet or DaemonSet.</p>
<hr>

      </div>


      <footer>
        

<section class="see-also">
  
    
    
    
      <h3 id="see-also-in-kubernetes">
        See also in kubernetes
        <a class="heading-link" href="#see-also-in-kubernetes">
          <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
          <span class="sr-only">Link to heading</span>
        </a>
      </h3>
      <nav>
        <ul>
        
        
          
            <li>
              <a href="https://libert.xyz/posts/pod-services-pt2/">Kubernetes Services insights Pt2</a>
            </li>
          
        
          
        
          
            <li>
              <a href="https://libert.xyz/posts/pods-qos/">PODS QoS</a>
            </li>
          
        
          
            <li>
              <a href="https://libert.xyz/posts/pods-requests-limits/">PODS Requests &amp; Limits</a>
            </li>
          
        
          
            <li>
              <a href="https://libert.xyz/posts/kubernetes-ha/">Highly Available Kubernetes Cluster</a>
            </li>
          
        
          
            <li>
              <a href="https://libert.xyz/posts/pod-services/">Kubernetes Services insights</a>
            </li>
          
        
        </ul>
      </nav>
    
  
    
    
    
      <h3 id="see-also-in-qos">
        See also in QoS
        <a class="heading-link" href="#see-also-in-qos">
          <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
          <span class="sr-only">Link to heading</span>
        </a>
      </h3>
      <nav>
        <ul>
        
        
          
        
          
            <li>
              <a href="https://libert.xyz/posts/pods-qos/">PODS QoS</a>
            </li>
          
        
          
            <li>
              <a href="https://libert.xyz/posts/pods-requests-limits/">PODS Requests &amp; Limits</a>
            </li>
          
        
        </ul>
      </nav>
    
  
</section>


        
        
        
        
        
        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
    integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
    integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script>
  </section>

    </div>

  </main>

  

  
  
  <script src="https://libert.xyz/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js" integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
