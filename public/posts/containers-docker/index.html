<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Containers &amp; Docker Images · libert.xyz
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">


<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net/; form-action 'self'; frame-src 'self' https://www.youtube.com; img-src 'self'; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com/ https://cdn.jsdelivr.net/; script-src 'self' 'unsafe-inline' https://www.google-analytics.com https://cdn.jsdelivr.net/; connect-src 'self' https://www.google-analytics.com;">




<meta name="author" content="Libert Schmidt">
<meta name="description" content="
Containers are getting more popular year by year and more companies are adopting containers as their default development environment.
One of the primary reasons for the rapid adoption are the flexibility to package the application code, share it and running anywhere regardless of the operating system host.  Another reason is the mass adoption of Microservices Architectures.


  A Hello World container
  
    
    Link to heading
  

The busybox images contain the basic UNIX tools like echo, ls and so on.">
<meta name="keywords" content="blog,devops,libert,aws,python,linux,bash">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Containers & Docker Images">
  <meta name="twitter:description" content="Containers are getting more popular year by year and more companies are adopting containers as their default development environment.
One of the primary reasons for the rapid adoption are the flexibility to package the application code, share it and running anywhere regardless of the operating system host. Another reason is the mass adoption of Microservices Architectures.
A Hello World container Link to heading The busybox images contain the basic UNIX tools like echo, ls and so on.">

<meta property="og:url" content="http://localhost:1313/posts/containers-docker/">
  <meta property="og:site_name" content="libert.xyz">
  <meta property="og:title" content="Containers & Docker Images">
  <meta property="og:description" content="Containers are getting more popular year by year and more companies are adopting containers as their default development environment.
One of the primary reasons for the rapid adoption are the flexibility to package the application code, share it and running anywhere regardless of the operating system host. Another reason is the mass adoption of Microservices Architectures.
A Hello World container Link to heading The busybox images contain the basic UNIX tools like echo, ls and so on.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2018-11-10T14:53:00-04:00">
    <meta property="article:modified_time" content="2018-11-10T14:53:00-04:00">
    <meta property="article:tag" content="Docker">
      <meta property="og:see_also" content="http://localhost:1313/posts/run-cmd-entrypoint/">




<link rel="canonical" href="http://localhost:1313/posts/containers-docker/">


<link rel="preload" href="http://localhost:1313/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="http://localhost:1313/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="http://localhost:1313/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="http://localhost:1313/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="http://localhost:1313/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="http://localhost:1313/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="http://localhost:1313/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="http://localhost:1313/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="http://localhost:1313/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="http://localhost:1313/images/apple-touch-icon.png">

<link rel="manifest" href="http://localhost:1313/site.webmanifest">
<link rel="mask-icon" href="http://localhost:1313/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      libert.xyz
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="http://localhost:1313/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="http://localhost:1313/open-source/">Open Source Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="http://localhost:1313/about/">About</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/containers-docker/">
              Containers &amp; Docker Images
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2018-11-10T14:53:00-04:00">
                November 10, 2018
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              3-minute read
            </span>
          </div>
          
          
          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="http://localhost:1313/tags/docker/">Docker</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <hr>
<p>Containers are getting more popular year by year and more companies are adopting containers as their default development environment.</p>
<p>One of the primary reasons for the rapid adoption are the flexibility to package the application code, share it and running anywhere regardless of the operating system host.  Another reason is the mass adoption of <em>Microservices Architectures</em>.</p>
<p><img src="https://libert.xyz/images/docker-1.png" alt="docker-1" title="Containers"></p>
<h3 id="a-hello-world-container">
  A Hello World container
  <a class="heading-link" href="#a-hello-world-container">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>The <em>busybox</em> images contain the basic <em>UNIX</em> tools like <code>echo</code>, <code>ls</code> and so on.</p>
<p><img src="https://libert.xyz/images/docker-2.png" alt="docker-2" title="busybox"></p>
<h4 id="behind-the-scenes">
  Behind the scenes
  <a class="heading-link" href="#behind-the-scenes">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<ul>
<li>Docker checked if the <em>busybox:latest</em> image was present in your local computer.</li>
<li>If not, docker pulled the image from the <em>Docker Hub</em> registry (docker.io).</li>
<li>After the image was downloaded, <em>Docker</em> created a container from that image and ran the command <code>echo Hello World</code> inside it.</li>
<li>The echo command sends the text to <em>STDOUT</em>, the process terminated and the container stopped.</li>
</ul>
<p><img src="https://libert.xyz/images/docker-3.png" alt="docker-3" title="Docker Hub"></p>
<h4 id="creating-a-python-server">
  Creating a python server
  <a class="heading-link" href="#creating-a-python-server">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>The following code creates a simple socket listening in the port 8000</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/python</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> SimpleHTTPServer
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> SocketServer
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>PORT <span style="color:#f92672">=</span> <span style="color:#ae81ff">8000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Handler <span style="color:#f92672">=</span> SimpleHTTPServer<span style="color:#f92672">.</span>SimpleHTTPRequestHandler
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>httpd <span style="color:#f92672">=</span> SocketServer<span style="color:#f92672">.</span>TCPServer((<span style="color:#e6db74">&#34;&#34;</span>, PORT), Handler)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print <span style="color:#e6db74">&#34;serving at port&#34;</span>, PORT
</span></span><span style="display:flex;"><span>httpd<span style="color:#f92672">.</span>serve_forever()
</span></span></code></pre></div><p>Next, we need to dockerize the code using a Dockerfile</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>FROM python:2.7-alpine
</span></span><span style="display:flex;"><span>ADD server.py /server.py
</span></span><span style="display:flex;"><span>ENTRYPOINT [&#34;python&#34;,&#34;server.py&#34;]
</span></span></code></pre></div><h4 id="building-the-container-image">
  Building the container image
  <a class="heading-link" href="#building-the-container-image">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p><img src="https://libert.xyz/images/docker-4.png" alt="docker-4" title="docker build"></p>
<p><em>Build Process</em></p>
<p><img src="https://libert.xyz/images/docker-5.png" alt="docker-5" title="docker build"></p>
<h4 id="how--the-image-is-built">
  How  the image is built?
  <a class="heading-link" href="#how--the-image-is-built">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>The build process is not performed by the <em>Docker</em> client, instead is performed by the <code>Docker daemon</code></p>
<ul>
<li>The <em>client</em> and the <em>daemon</em> don&rsquo;t need to be in the same machine</li>
<li>If you are running Docker in a non-Linux OS, the docker client runs in your host OS and the <em>docker daemon</em> runs in a <em>VM</em>.</li>
</ul>
<h4 id="image-layers">
  Image layers
  <a class="heading-link" href="#image-layers">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>A docker image is composed of multiple layers.
When building an image, a new layer is created for each individual command in the <em>Dockerfile</em></p>
<h4 id="running-the-container-and-accessing-the-app">
  Running the container and accessing the app
  <a class="heading-link" href="#running-the-container-and-accessing-the-app">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>Once the image is build, we can run the container</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run -p 8000:8000 -d pyserv
</span></span></code></pre></div><p>To verify that the container is running <code>docker ps</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>CONTAINER ID        IMAGE               COMMAND              CREATED             STATUS              PORTS                    NAMES
</span></span><span style="display:flex;"><span>434339134cc8        pyserv              &#34;python server.py&#34;   30 seconds ago       Up 31 seconds        0.0.0.0:8000-&gt;8000/tcp   focused_benz
</span></span></code></pre></div><h4 id="shell-inside-the-container">
  Shell inside the container
  <a class="heading-link" href="#shell-inside-the-container">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h4>
<p>To get inside the container we can run <code>docker exec -it focused_benz sh</code></p>
<p>The process <code>sh</code> process will have the same <em>Linux namespace</em> as the main container.</p>
<p>Now that we are inside the container we can explore the process running <code>ps aux</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>/ # ps aux
</span></span><span style="display:flex;"><span>PID   USER     TIME  COMMAND
</span></span><span style="display:flex;"><span>    1 root      0:00 python server.py
</span></span><span style="display:flex;"><span>   16 root      0:00 sh
</span></span><span style="display:flex;"><span>   27 root      0:00 ps aux
</span></span></code></pre></div><p>If you feel curious and open another terminal in your host OS, you will see the process running in the container.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>libert &gt;&gt;  ps -aux | grep server.py
</span></span><span style="display:flex;"><span>root     21799  0.0  0.1  13908 12344 ?        Ss   19:47   0:00 python server.py
</span></span></code></pre></div><p>This proves that the process running in the container is also running in the host OS, but the process has a different <em>PID</em> . This is because the container is running in his own <em>Linux Namespace</em> and has his own <em>PID</em> tree.
The container filesystem is also isolated from the host OS.</p>
<hr>
<p>*** References - <a href="https://www.manning.com/books/kubernetes-in-action"  class="external-link" target="_blank" rel="noopener">Kubernetes in Action</a></p>

      </div>


      <footer>
        

<section class="see-also">
  
    
    
    
      <h3 id="see-also-in-docker">
        See also in docker
        <a class="heading-link" href="#see-also-in-docker">
          <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
          <span class="sr-only">Link to heading</span>
        </a>
      </h3>
      <nav>
        <ul>
        
        
          
            <li>
              <a href="http://localhost:1313/posts/run-cmd-entrypoint/">RUN or CMD or ENTRYPOINT</a>
            </li>
          
        
          
        
        </ul>
      </nav>
    
  
</section>


        
        
        
        
        
        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
    integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
    integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script>
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2025
     Libert Schmidt 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="http://localhost:1313/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
